<?php
/*
# This file was generated with the help of GPT-3
# https://help.openai.com/en/articles/6825453-chatgpt-release-notes
# 
# OpenAI. (2023). ChatGPT (May 24 version) [Large language model]. 
# 	https://chat.openai.com/chat
*/

    // Set the base directory where files are stored
    $baseDir = '/var/www/html/';

    // Get the list of files in the base directory
    $files = scandir($baseDir);

    // Remove '.' and '..' from the list
    $files = array_diff($files, array('.', '..'));

    // Get the requested file from the URL parameter
    $file = $_GET['file'];

    // Concatenate the base directory with the requested file
    $filePath = $baseDir . $file;

    // Read and output the contents of the file
    $fileContents = file_get_contents($filePath);
?>

<!DOCTYPE html>
<html>
<head>
    <title>Directory Listing</title>
</head>
<body>
    <h1>Directory Listing</h1>
    <ul>
        <?php foreach ($files as $file) : ?>
            <li><a href="?file=<?= urlencode($file) ?>"><?= $file ?></a></li>
        <?php endforeach; ?>
    </ul>

    <hr>

    <h2>Read File</h2>
    <p>Enter (or click on) a filename to review its contents.</p>
    <form method="GET" action="">
        <input type="text" name="file" placeholder="Enter file name">
        <input type="submit" value="Read">
    </form>

    <pre><?= htmlentities($fileContents) ?></pre>
</body>
</html>
